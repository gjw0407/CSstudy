# ì¸ì¦ ì¸ê°€

# ì¸ì¦ (Authentication)

> ìœ ì €ê°€ ëˆ„êµ¬ì¸ê°€
> 

## ì¸ì¦ í”„ë¡œì„¸ìŠ¤ ì¢…ë¥˜

- ë¹„ë°€ë²ˆí˜¸
- ì¼íšŒìš© í•€
- ì¸ì¦ ì•±
- ìƒì²´ì¸ì‹

## ì„œë²„ ê¸°ë°˜ ì¸ì¦

ì •ë³´ ìœ ì§€ë¥¼ í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” ê²ƒ â†’ connectionless, statelessí•œ HTTP í”„ë¡œí† ì½œ í™˜ê²½ ë•Œë¬¸

- connectionless : ìš”ì²­ì„ í•œ í›„ ì‘ë‹µì„ ë°›ìœ¼ë©´ ì—°ê²°ì„ ëŠì–´ ë²„ë¦¼
- stateless : í†µì‹ ì´ ëë‚˜ë©´ ìƒíƒœë¥¼ ìœ ì§€í•˜ì§€ ì•ŠìŒ

Cookie / Session ê¸°ë°˜ ì¸ì¦ ì‹œìŠ¤í…œ

ì„œë²„ ì¸¡ì—ì„œ ì‚¬ìš©ì ì •ë³´ë¥¼ ê¸°ì–µ â†’ ë©”ëª¨ë¦¬, ë””ìŠ¤í¬, ë°ì´í„°ë² ì´ìŠ¤ ë“±ì„ í†µí•´ ê´€ë¦¬

í´ë¼ì´ì–¸íŠ¸ì˜ ìƒíƒœ ì •ë³´ë¥¼ ì €ì¥í•˜ì—¬ ìœ ì§€í•´ì•¼ í•¨ â†’ Stateful  êµ¬ì¡°

### Cookie

[Cookie](Cookie.md)

### Session

[Session](Session.md)

### ì¥ì 

- ì¤‘ìš” ì •ë³´ëŠ” ì„œë²„ì— ì €ì¥ â†’ ì¿ í‚¤ëŠ” ìœ ì˜ë¯¸í•œ ê°’ì„ ê°€ì§€ê³  ìˆì§€ X

### ë‹¨ì 

- í•´ì»¤ê°€ ì¿ í‚¤ í›”ì¹˜ë©´ ì‚¬ìš©ì êµ¬ë¶„ì´ ì•ˆê° â†’ ì„¸ì…˜ í•˜ì´ì¬í‚¹ ê³µê²©
- ì‹œìŠ¤í…œ í™•ì •ì´ ì–´ë ¤ì›€
- ì„œë²„ì— ì„¸ì…˜ì„ ì €ì¥ â†’ ì‹œìŠ¤í…œ ê³¼ë¶€í•˜ â†’ í™•ì¥ì„±ì´ ìš©ì´ X

## í† í° ê¸°ë°˜ ì¸ì¦

ì¸ì¦ ë°›ì€ ì‚¬ìš©ìì—ê²Œ í† í°ì„ ë°œê¸‰ â†’ ì„œë²„ì— ìš”ì²­ì„ í•  ë•Œ HTTP í—¤ë”ì— í† í° í¬í•¨

ì‚¬ìš©ìì˜ ì¸ì¦ ì •ë³´ë¥¼ ì„œë²„ì— ì €ì¥ X

í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ìœ¼ë¡œë§Œ ì¸ê°€ë¥¼ ì²˜ë¦¬ â†’ Stateless êµ¬ì¡°

JWT (Json Web Token) ì‚¬ìš©

[JWT](JWT.md)

![Untitled](https://user-images.githubusercontent.com/61227459/176676322-6c1019d1-516c-41d6-9bfd-55c04d3c5da3.png)
### ì¥ì 

- ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ ê²€ì¦ë§Œ í•´ì£¼ê¸° ë•Œë¬¸ì— ì¶”ê°€ ì €ì¥ì†Œê°€ í•„ìš” X
- í™•ì¥ì„±ì´ ë›°ì–´ë‚¨ â†’ í† í° ê¸°ë°˜ìœ¼ë¡œ ë‹¤ë¥¸ ì¸ì¦ ì‹œìŠ¤í…œ ì ‘ê·¼ ê°€ëŠ¥ (OAuth)

### ë‹¨ì 

- í•œ ë²ˆ ìƒì„±ëœ JWTë¥¼ ëŒì´í‚¬ ìˆ˜ ì—†ìŒ â†’ ìœ íš¨ê¸°ê°„ ì™„ë£Œë  ë•Œ ê¹Œì§€ëŠ” í•´í‚¹ ê°€ëŠ¥
- JWTì˜ ê¸¸ì´ê°€ ê¸¸ë‹¤ â†’ ìš”ì²­ì´ ë§ì•„ì§ˆìˆ˜ë¡ ì„œë²„ì˜ ìì› ë‚­ë¹„ ë°œìƒ

# ì¸ê°€ (Authorization)

> ìœ ì €ì˜ ê¶Œí•œ í—ˆê°€/ê±°ë¶€
> 

## ì¸ê°€ ê³¼ì •

1. ì¸ì¦ ì ˆì°¨ë¥¼ í†µí•´ Access Token ìƒì„±
2. í´ë¼ì´ì–¸íŠ¸ê°€ ìš”ì²­ì„ ë³´ë‚¼ ë•Œ Access Token ì²¨ë¶€
3. ì„œë²„ëŠ” Access Token decodeí•˜ê³  ì •ë³´ë¥¼ ì–»ìŒ
4. ì •ë³´ë¥¼ í†µí•´ DBì—ì„œ ê¶Œí•œ í™•ì¸
5. ê¶Œí•œì— ë”°ë¼ ì²˜ë¦¬

---

# OAuth

> ì¸í„°ë„· ì‚¬ìš©ìë“¤ì´ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì œê³µí•˜ì§€ ì•Šê³  ë‹¤ë¥¸ ì›¹ì‚¬ì´íŠ¸ ìƒì˜ ìì‹ ë“¤ì˜ ì •ë³´ì— ëŒ€í•´ ì›¹ì‚¬ì´íŠ¸ë‚˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì ‘ê·¼ ê¶Œí•œì„ ë¶€ì—¬í•  ìˆ˜ ìˆëŠ” ê³µí†µì ì¸ ìˆ˜ë‹¨ìœ¼ë¡œì„œ ì‚¬ìš©ë˜ëŠ”, ì ‘ê·¼ ìœ„ì„ì„ ìœ„í•œ ê°œë°©í˜• í‘œì¤€
â†’ ë‹¤ì–‘í•œ í”Œë«í¼ í™˜ê²½ì—ì„œ ê¶Œí•œ ë¶€ì—¬ë¥¼ ìœ„í•œ ì‚°ì—… í‘œì¤€ í”„ë¡œí† ì½œ
> 

## OAuth1.0

![Untitled 1](https://user-images.githubusercontent.com/61227459/176676337-1a30bf0a-07f5-4be2-9a9d-af402c6fc5ca.png)
- 3-legged-auth
    - ìœ ì €, ì»¨ìŠˆë¨¸, ì„œë¹„ìŠ¤ í”„ë¡œë°”ì´ë”
- ìš”ì²­ í† í°, ì ‘ê·¼ í† í°(ìœ íš¨ê¸°ê°„ X) ì‚¬ìš©
- êµ¬í˜„ì´ ë³µì¡

## OAuth2.0

- ê¸°ëŠ¥ ë‹¨ìˆœí™” & ê·œëª¨ í™•ì¥ì„± ì§€ì›
- httpsê°€ í•„ìˆ˜ â†’ ì•”í˜¸í™”ëŠ” httpsì— ë§¡ê¹€
- API ì„œë²„ì—ì„œ ì¸ì¦ ì„œë²„ ë¶„ë¦¬ ê°€ëŠ¥
- ì ‘ê·¼ í† í°(ìœ íš¨ê¸°ê°„ O), ì¬ë°œê¸‰ í† í° ì‚¬ìš©

### êµ¬ì„±

1. Resource Owner : ê°ì¢… ì •ë³´ì˜ ì£¼ì¸, OAuthë¥¼ ì‚¬ìš©í•˜ëŠ” ì‚¬ëŒ (ì‚¬ìš©ì)
2. Authorization Server : OAuth ì¸ì¦ ì„œë²„ (ì œ3ì˜ ì„œë²„)
3. Resource Server : REST API Server / OAuthì˜ ì‚¬ìš©ì„ í†µí•´ Clientê°€ ì›í•˜ëŠ” ë³´í˜¸ëœ ì •ë³´(Resource)ë¥¼ ì œê³µí•´ì£¼ëŠ” ì£¼ì²´ (goolgle, naver)
4. Client : Resource Serverì˜ APIë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ë ¤ê³  í•˜ëŠ” ì‚¬ì´íŠ¸ (ê°œë°œ ì‚¬ì´íŠ¸)

### ì¸ì¦ ì ˆì°¨ ì¢…ë¥˜

1. Authorization Code Grant 
    1. Clientê°€ ë‹¤ë¥¸ ì‚¬ìš©ì ëŒ€ì‹  íŠ¹ì • ë¦¬ì†ŒìŠ¤ì— ì ‘ê·¼ì„ ìš”ì²­
    2. Authorization Serverì—ì„œ ë°›ì€ ê¶Œí•œ ì½”ë“œë¡œ ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ ì•¡ì„¸ìŠ¤ í† í°ì„ ë°›ìŒ
    3. ê°€ì¥ ë§ì´ ì“°ì„
2. Implicit Grant
    1. ì•¡ì„¸ìŠ¤ í† í°ì„ ì¦‰ì‹œ ë°˜í™˜ ë°›ì•„ ì´ë¥¼ ì¸ì¦ì— ì´ìš©
3. Resource Owner Password Credentials Grant
    1. Resource Ownerì—ì„œ ID, pwdë¥¼ ì „ë‹¬ ë°›ì•„ Resource Serverì— ì¸ì¦
4. Client Credentials Grant
    1. Clientê°€ ì»¨í…ìŠ¤íŠ¸ ì™¸ë¶€ì—ì„œ ì•¡ì„¸ìŠ¤ í† í°ì„ ì–»ì–´ íŠ¹ì • ë¦¬ì†ŒìŠ¤ì— ì ‘ê·¼ì„ ìš”ì²­

### ë™ì‘ ìˆœì„œ

![Untitled 2](https://user-images.githubusercontent.com/61227459/176676339-5201912a-6618-4415-a979-0d1556adf2b7.png)
<aside>
ğŸ’¡ Facebookì—ê²Œ í† í° ì‚¬ìš© ìš”ì²­ì„ í•´ì„œ í† í°ì„ ë°›ì•„ì„œ, í† í°ì„ ê°€ì§€ê³  ì„œë²„ì— ìš”ì²­í•˜ì—¬ ì œí•œëœ í—ˆìš©ìœ¼ë¡œ ì‚¬ìš©

</aside>

## ì˜ˆì‹œ

### **ì¸ì¦ì„œë²„ì— authority codeë¥¼ ìš”ì²­**

```java
GET
https://alpha-id.payco.com/oauth2.0/authorize?
    client_id={client_id}&
    redirect_uri=http://nhnent.dooray.com/auth/signin/process/payco?nextUrl=%2F&
    response_type=code&
    serviceProviderCode=DOORAY&
    termsYN=Y&
    state={random_string}
```

### **ë°œê¸‰ë°›ì€ authority codeë¡œ clientì— ìš”ì²­**

```java
GET
http://nhnent.dooray.com/auth/signin/process/payco?
    nextUrl=/&
    code=NyP8aIFKIS6r8tm2&
    state={random_string}
```

### **clientëŠ” ì¸ì¦ì„œë²„ì— access-token ìš”ì²­**

```java
POST
https://alpha-id.payco.com/oauth2.0/token

grant_type=authorization_code&
code=NyP8aIFKIS6r8tm2&
client_id={client_id}&
client_secret={client_secret}&
state={random_string}
```

### ì‘ë‹µ

```java
{
	"access_token_secret" :  "32321vveerrer2fv",
	"state" :  null,
	"expires_in" :  "11111",
	"token_type" :  "Bearer",
	"access_token" :  "AAAA4NV74n+ns623iceBu343424C4cMZ0A5T5pGjwfMF5b/Yj+LyDBqK8+/jvVTIKHbzM47wFw8qUf0fTCw4+/ko+hSgAGClMLykvaDJ7/0B/OxlM99999AqkvAw4niLVho14Izga2c5IksQOjTTv5L8keM4yTplN50xzGzYJpV1vmj3NGWtPKHaJL3fLVa41hvZmxOw00edQeOYAw/vhLW7iQDuJjpTciWgmgEUd9if7EL+tqIJmE6fRSH42b4aNOX5XgiaEr6hUDisUoHG5kqOd",
	"refresh_token" :  "AAAAb7F2pdU0FZuxHreJD12wefvber/LIsbLGHdW85lVuJ3OaNDguDnGx5+FZeZaIbBTDRBcaneT9WlrDNORX8eyVf5bgL6RrENn5tKhjdjQlmsXxH1wCJDUa2J2QtQOHRTxAg="
}
```

---

# Spring Security

> ìŠ¤í”„ë§ ê¸°ë°˜ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë³´ì•ˆì„ ë‹´ë‹¹í•˜ëŠ” ìŠ¤í”„ë§ í•˜ìœ„ í”„ë ˆì„ì›Œí¬
> 

ì¸ì¦ê³¼ ê¶Œí•œì— ëŒ€í•œ ë¶€ë¶„ì„ Filter íë¦„ì— ë”°ë¼ ì²˜ë¦¬

Credential ê¸°ë°˜ì˜ ì¸ì¦ ë°©ì‹

## ìš©ì–´

- ì ‘ê·¼ ì£¼ì²´(Principal) : ë³´í˜¸ëœ ë¦¬ì†ŒìŠ¤ì— ì ‘ê·¼í•˜ëŠ” ëŒ€ìƒ
- ë¹„ë°€ë²ˆí˜¸(Credential) : Resourceì— ì ‘ê·¼í•˜ëŠ” ëŒ€ìƒì˜ ë¹„ë°€ë²ˆí˜¸

## ë™ì‘ ìˆœì„œ

![Untitled 3](https://user-images.githubusercontent.com/61227459/176676340-31c45999-6fa5-4288-8e64-f2b8082919e1.png)
1. HTTP ìš”ì²­ ìˆ˜ì‹  ë° `AuthenticationFilter` í†µê³¼
    1. `AuthenticationFilter`ì—ì„œ ì‚¬ìš©ìì˜ ì„¸ì…˜ IDê°€ Security Contextì— ìˆëŠ”ì§€ í™•ì¸
    2. Security Context : ì•„ë˜ì˜ ëª¨ë“  ë¡œì§ì„ í†µê³¼í•œ ì¸ì¦ëœ ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” ê³µê°„
2. ì‚¬ìš©ì ìê²© ì¦ëª…ì„ ê¸°ë°˜ìœ¼ë¡œ `AuthenticationToken` ìƒì„±
    1. ì‚¬ìš©ì ì´ë¦„ê³¼ ë¹„ë²ˆ ì¶”ì¶œ(credentials) â†’ ì¸ì¦ ê°œì²´ì¸ `UsernamePasswordAuthenticationToken`ìƒì„±
3. `AuthentiationManager`ë¥¼ ìœ„í•´ ìƒì„±ëœ `AuthenticationToken` ìœ„ì„
    1. `AuthenticationManager`ëŠ” ë‹¨ìˆœí•œÂ **ì¸í„°í˜ì´ìŠ¤**ì´ë©° ì‹¤ì œ êµ¬í˜„ì€Â `ProviderManager`
    2. `ProviderManager`ëŠ” ì œê³µëœ ê°Â `AuthenticationProvdier`ë¥¼ ì‚´í´ë³´ê³  ì „ë‹¬ëœ ì¸ì¦ ê°œì²´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‚¬ìš©ì ì¸ì¦ì„ ì‹œë„
4. `AuthenticationProvider` ëª©ë¡ìœ¼ë¡œ ì¸ì¦ ì‹œë„
5. Service êµ¬í˜„ (DBì™€ ë¹„êµí•˜ëŠ” ë¡œì§) â†’ Login ë¡œì§
6. ì¸ì¦ì— ì„±ê³µí•˜ë©´ ì¸ì¦ ê°œì²´ ë°˜í™˜, ì‹¤íŒ¨ ì‹œ `AuthenticationException` ë°œìƒ
7. SecurityContextì—ì„œ ì¸ì¦ ê°œì²´ ì„¤ì •

## ì½”ë“œ

```java
@Configuration
@EnableWebSecurity
public class WebSecurityConfig extends WebSecurityConfigurerAdapter {
  // ì •ì  ìì›ì— ëŒ€í•´ì„œëŠ” Security ì„¤ì •ì„ ì ìš©í•˜ì§€ ì•ŠìŒ.
  @Override
  public void configure(WebSecurity web) {
      web.ignoring().requestMatchers(PathRequest.toStaticResources().atCommonLocations());
  }

  @Override
  protected void configure(HttpSecurity http) throws Exception {
      http.csrf().disable().authorizeRequests()
          // /about ìš”ì²­ì— ëŒ€í•´ì„œëŠ” ë¡œê·¸ì¸ì„ ìš”êµ¬í•¨
          .antMatchers("/about").authenticated()
          // /admin ìš”ì²­ì— ëŒ€í•´ì„œëŠ” ROLE_ADMIN ì—­í• ì„ ê°€ì§€ê³  ìˆì–´ì•¼ í•¨
          .antMatchers("/admin").hasRole("ADMIN")
          // ë‚˜ë¨¸ì§€ ìš”ì²­ì— ëŒ€í•´ì„œëŠ” ë¡œê·¸ì¸ì„ ìš”êµ¬í•˜ì§€ ì•ŠìŒ
          .anyRequest().permitAll()
          .and()
          // ë¡œê·¸ì¸í•˜ëŠ” ê²½ìš°ì— ëŒ€í•´ ì„¤ì •í•¨
      .formLogin()
          // ë¡œê·¸ì¸ í˜ì´ì§€ë¥¼ ì œê³µí•˜ëŠ” URLì„ ì„¤ì •í•¨
          .loginPage("/user/loginView")
          // ë¡œê·¸ì¸ ì„±ê³µ URLì„ ì„¤ì •í•¨
          .successForwardUrl("/index")
          // ë¡œê·¸ì¸ ì‹¤íŒ¨ URLì„ ì„¤ì •í•¨
          .failureForwardUrl("/index")
          .permitAll()
          .and()
          .addFilterBefore(customAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);
  }

  @Bean
  public BCryptPasswordEncoder bCryptPasswordEncoder() {
      return new BCryptPasswordEncoder();
  }
}
```

### CSRF(Cross-Site Request Forgery)

Forgery : ìœ„ì¡°

`@EnableWebSecurity` ì§€ì •í•˜ë©´ ìë™ìœ¼ë¡œ CSRF ë³´í˜¸ ê¸°ëŠ¥ í™œì„±í™”

- í•´ì»¤ëŠ” í¬ìƒì(user)ì˜ ê¶Œí•œì„ ë„ìš©í•´ ì¤‘ìš” ê¸°ëŠ¥ì„ ì‹¤í–‰í•˜ê²Œ ë§Œë“¦
    - í˜ì´ìŠ¤ë¶ìœ¼ë¡œ ê´‘ê³  ì˜¬ë¦¬ê¸°
- í•´ì»¤ê°€ ì‚¬ìš©ìì˜ ì»´í“¨í„°ë¥¼ ê°ì—¼ ì‹œí‚¤ê±°ë‚˜ í˜ì´ìŠ¤ë¶ ì„œë²„ë¥¼ í•´í‚¹í•´ì„œ ì´ë¤„ì§€ëŠ” ê³µê²© X

ê³µê²© ì¡°ê±´

1. ìœ„ì¡° ìš”ì²­ì„ ì „ì†¡í•˜ëŠ” ì„œë¹„ìŠ¤ì— í¬ìƒìê°€ ë¡œê·¸ì¸ ë˜ì–´ ìˆëŠ” ìƒíƒœ
2. í¬ìƒìê°€ í•´ì»¤ê°€ ë§Œë“  í”¼ì‹± ì‚¬ì´íŠ¸ì— ì ‘ì†

â†’ "**ì‚¬ì´íŠ¸ ê°„ ìš”ì²­**"ì´ ë°œìƒí•˜ê¸° ì‰¬ìš´ ì›¹ì— ëŒ€í•´Â ìš”ì²­í•  ë•Œ í•„ìš”

### CSRF ë°©ì–´ë²•

Referrer ê²€ì¦

- Referrer : ì›¹ ë¸Œë¼ìš°ì €ë¡œ ì›”ë“œ ì™€ì´ë“œ ì›¹ì„ ì„œí•‘í•  ë•Œ, í•˜ì´í¼ë§í¬ë¥¼ í†µí•´ì„œ ê°ê°ì˜ ì‚¬ì´íŠ¸ë¡œ ë°©ë¬¸ì‹œ ë‚¨ëŠ” í”ì 
- ì„œë²„ë‹¨ì—ì„œ requestì˜ referrerì„ í™•ì¸í•˜ì—¬ domainì´ ì¼ì¹˜í•˜ëŠ”ì§€ ê²€ì¦

Security Token ì‚¬ìš©

- ì„ì˜ì˜ í† í°ì„ ë°œê¸‰í•œ í›„ ìì›ì— ëŒ€í•œ ë³€ê²½ ìš”ì²­ì¼ ê²½ìš° Token ê°’ì„ í™•ì¸í•œ í›„ í´ë¼ì´ì–¸íŠ¸ê°€ ì •ìƒì ì¸ ìš”ì²­ì„ ë³´ë‚¸ ê²ƒì¸ì§€ í™•ì¸
- íŠ¹ì •Â formí˜ì´ì§€ì— ëŒ€í•œ ìš”ì²­ì„ í•  ê²½ìš°Â CSRFí† í°ì„ ìƒì„±í•´ì„œ,Â `POST`Â ë“±Â form submitì— ëŒ€í•œ ìš”ì²­ì— ëŒ€í•´ì„œ í•´ë‹¹ í† í°ì„ ê²€ì¦

<aside>
ğŸ’¡ Q :  JWTë¥¼ ì“°ëŠ”ë° ì™œ CSRFÂ í† í°ê¹Œì§€ í•„ìš”í•œê°€??
A : JWTëŠ” ì¼ë°˜ì ìœ¼ë¡œÂ local storageì— ë³´ê´€í•˜ê²Œ ëœë‹¤.Â Local storageëŠ” ìŠ¤í¬ë¦½íŠ¸ë¥¼ í†µí•´ ì •ë³´ë¥¼ ì·¨í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì´ëŠ”Â XSSê³µê²©ìœ¼ë¡œë¶€í„° ììœ ë¡­ì§€ ëª»í•˜ë‹¤. 
â†’Â XSSê³µê²©ì— ì·¨ì•½ì ì´ ìˆì„ ê²½ìš°Â JWTë§Œìœ¼ë¡  ë¶€ì¡±í•¨ì´ ìˆë‹¤.
ë°˜ëŒ€ë¡œ ì¿ í‚¤ì— ì €ì¥í•˜ê²Œ ë  ê²½ìš°Â CSRFÂ ê³µê²©ìœ¼ë¡œë¶€í„° ì·¨ì•½ì ì´ ìƒê¸°ê²Œ ë¨ìœ¼ë¡œ, ì›¹ì‚¬ì´íŠ¸ì—ì„œ ì“°ì´ê³  ìˆëŠ”Â JWTë§Œìœ¼ë¡œëŠ” ë¶€ì¡±í•¨ì´ ìˆë‹¤.
ì–´ë””ì— ì €ì¥í–ˆë“  í•´ë‹¹Â JWTë¥¼ ë³„ë„ë¡œÂ AuthorizationÂ í—¤ë”ì— ë„£ëŠ” ë°©ë²•ë„ ìˆê² ì§€ë§Œ ì–´ì¨Œë“ Â XSSÂ ê³µê²©ì€Â JWTë¥¼ íƒˆì·¨í•´ê°ˆ ìˆ˜ ìˆë‹¤
â†’ XSSë¥¼ ë§‰ëŠ”ê²Œ ê°€ì¥ ì¤‘ìš”í•˜ë‹¤ (ê°€ì¥ ë¹ˆë²ˆí•˜ë©´ì„œë„ ê°€ì¥ ë‹¤ì–‘í•œ ê³µê²©)

</aside>

### CSRF ë¹„í™œì„±í™”

REST API : ì„œë²„ìª½ì˜ ì„¸ì…˜ì´ë‚˜ ë¸Œë¼ìš°ì € ì¿ í‚¤ì— ì˜ì¡´ X

REST APIì˜ ì¡°ê±´(ì¿ í‚¤ ê¸°ë°˜ì˜ ì„¸ì…˜Â ì²˜ë¦¬)ì—ëŠ” ë” ì´ìƒ CSRFì´ ê´€ë ¨ì´ ì—†ìœ¼ë¯€ë¡œ ì´ëŸ¬í•œ APIëŠ” CSRF ê³µê²©ì„ ë°›ì„ ê°€ëŠ¥ì„±ì´ ì¡´ì¬í•˜ì§€ X

â†’ **ëŒ€ë¶€ë¶„ì˜ í˜„ì¬ ì• í”Œë¦¬ì¼€ì´ì…˜(APIë§Œ ë…¸ì¶œí•˜ëŠ”)ì˜ ê²½ìš° ì•¤ë“œí¬ì¸íŠ¸ì— ëŒ€í•´ CSRFë¥¼ ë¹„í™œì„±í™”**

## Spring Security + JWT + Vue.js ì˜ˆì œ (ë¡œê·¸ì¸)

[https://velog.io/@shinhyocheol/ë¡œê·¸ì¸-ê¸°ëŠ¥1](https://velog.io/@shinhyocheol/%EB%A1%9C%EA%B7%B8%EC%9D%B8-%EA%B8%B0%EB%8A%A51)

# ì¶œì²˜

[https://www.okta.com/kr/identity-101/authentication-vs-authorization/](https://www.okta.com/kr/identity-101/authentication-vs-authorization/)

[https://velog.io/@aaronddy/ì¸ì¦Authenticationê³¼-ì¸ê°€Authorization](https://velog.io/@aaronddy/%EC%9D%B8%EC%A6%9DAuthentication%EA%B3%BC-%EC%9D%B8%EA%B0%80Authorization)

[https://d2.naver.com/helloworld/24942](https://d2.naver.com/helloworld/24942)

[https://enjoyinjoanne.tistory.com/67](https://enjoyinjoanne.tistory.com/67)

[https://showerbugs.github.io/2017-11-16/OAuth-ë€-ë¬´ì—‡ì¼ê¹Œ](https://showerbugs.github.io/2017-11-16/OAuth-%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%BC%EA%B9%8C)

[https://interconnection.tistory.com/76?category=616434](https://interconnection.tistory.com/76?category=616434)

[https://dev-coco.tistory.com/61](https://dev-coco.tistory.com/61)

[https://doqtqu.tistory.com/295](https://doqtqu.tistory.com/295)

[https://galid1.tistory.com/502](https://galid1.tistory.com/502)

[https://mangkyu.tistory.com/76](https://mangkyu.tistory.com/76)

[https://nahwasa.com/entry/ìŠ¤í”„ë§ë¶€íŠ¸-Spring-Security-ê¸°ë³¸-ì„¸íŒ…-ìŠ¤í”„ë§-ì‹œíë¦¬í‹°](https://nahwasa.com/entry/%EC%8A%A4%ED%94%84%EB%A7%81%EB%B6%80%ED%8A%B8-Spring-Security-%EA%B8%B0%EB%B3%B8-%EC%84%B8%ED%8C%85-%EC%8A%A4%ED%94%84%EB%A7%81-%EC%8B%9C%ED%81%90%EB%A6%AC%ED%8B%B0)

[https://wildeveloperetrain.tistory.com/50](https://wildeveloperetrain.tistory.com/50)

[https://devuna.tistory.com/55](https://devuna.tistory.com/55)

[https://www.bottlehs.com/springboot/ìŠ¤í”„ë§-ë¶€íŠ¸-spring-securityë¥¼-í™œìš©í•œ-ì¸ì¦-ë°-ê¶Œí•œë¶€ì—¬/](https://www.bottlehs.com/springboot/%EC%8A%A4%ED%94%84%EB%A7%81-%EB%B6%80%ED%8A%B8-spring-security%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%9C-%EC%9D%B8%EC%A6%9D-%EB%B0%8F-%EA%B6%8C%ED%95%9C%EB%B6%80%EC%97%AC/)

[https://sjh836.tistory.com/165](https://sjh836.tistory.com/165)

[https://goddaehee.tistory.com/154](https://goddaehee.tistory.com/154)

[https://dev-coco.tistory.com/173](https://dev-coco.tistory.com/173)

[https://supawer0728.github.io/2018/04/04/spring-filter-interceptor/](https://supawer0728.github.io/2018/04/04/spring-filter-interceptor/)

[https://itstory.tk/entry/CSRF-ê³µê²©ì´ë€-ê·¸ë¦¬ê³ -CSRF-ë°©ì–´-ë°©ë²•](https://itstory.tk/entry/CSRF-%EA%B3%B5%EA%B2%A9%EC%9D%B4%EB%9E%80-%EA%B7%B8%EB%A6%AC%EA%B3%A0-CSRF-%EB%B0%A9%EC%96%B4-%EB%B0%A9%EB%B2%95)

[https://zzang9ha.tistory.com/341](https://zzang9ha.tistory.com/341)