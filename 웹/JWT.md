# JWT

# κ°λ…

> JSON ν¬λ§·μ„ μ΄μ©ν•΄ μ‚¬μ©μμ— λ€ν• μ†μ„±μ„ μ €μ¥ν•λ” Claim(μ •λ³΄μ μ΅°κ°) κΈ°λ°μ Web Token
> 

ν΄λΌμ΄μ–ΈνΈ(μ‚¬μ©μ PC)μ— μ €μ¥ β†’ μ„λ²„μ— λ¶€λ‹΄μ΄ μ μ

## μΆ…λ¥

1. Access Token
    1. μ ν¨κΈ°κ°„μ„ μ§§κ²
2. Refresh Token
    1. μ ν¨κΈ°κ°„μ„ κΈΈκ²

<aside>
π’΅ μ‚¬μ©μλ” Access TokenμΌλ΅ μ”μ²­(μ ν¨κΈ°κ°„ λ§λ£ μ‹) β†’ Refresh Tokenμ„ μ„λ²„μ— λ³΄λƒ„ β†’ μƒλ΅μ΄ Access Token λ°κΈ‰

</aside>

## Claim

1. λ“±λ΅λ ν΄λ μ„
    1. μ„λΉ„μ¤μ—μ„ ν•„μ”ν• μ •λ³΄ X, μ •λ³΄ μ €μ¥μ„ μ„ν•΄ μ΄λ―Έ μ •ν•΄μ§„ ν΄λ μ„
    
    | iss | ν† ν° λ°κΈ‰μ(issuer) |
    | --- | --- |
    | sub | ν† ν° μ λ©(subject) |
    | aud | ν† ν° λ€μƒμ(audience) |
    | exp | ν† ν° λ§λ£ μ‹κ°„(expiration), NumericDate ν•μ‹ ex)20220622 |
    | nbf | ν† ν° ν™μ„± λ‚ μ§(not before), μ΄ λ‚ μ΄ μ§€λ‚κΈ° μ „μ ν† ν°μ€ ν™μ„±ν™” X |
    | lat | ν† ν° λ°κΈ‰ μ‹κ°„(issued at), ν† ν° λ°κΈ‰ μ΄ν›„μ κ²½κ³Ό μ‹κ°„μ„ μ• μ μμ |
    | jti | JWT ν† ν° μ‹λ³„μ(JWT ID), μ¤‘λ³µ λ°©μ§€λ¥Ό μ„ν•΄ μ‚¬μ©, μΌνμ© ν† ν° λ“±μ— μ‚¬μ© |
2. κ³µκ° ν΄λ μ„
    1. μ¶©λ™μΌ λ°©μ§€ λ (collision-resistant) μ΄λ¦„μ„ κ°€μ§€κ³  μμ–΄μ•Ό ν•¨
    2. ν΄λ μ„ μ΄λ¦„μ„ URI ν•μ‹μΌλ΅ μ§€μ
3. λΉ„κ³µκ° ν΄λ μ„
    1. ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ ν•©μν•μ— ν΄λ μ„μ„ μ§€μ •ν•΄μ„ μ‚¬μ©

# κµ¬μ΅°

![Untitled](JWT%2040433fbf32e544aab879ae198a63f595/Untitled.png)

## ν—¤λ” (Header)

- typ : ν† ν°μ νƒ€μ…μ„ μ§€μ •
- alg : μ„λ… λ° ν† ν° κ²€μ¦μ— μ“°μ΄λ” μ•κ³ λ¦¬μ¦ λ°©μ‹

## λ‚΄μ© (Payload)

- BASE64Urlλ΅ μΈμ½”λ”©
- JWE(JSON Web Encryption)λ΅ μ•”νΈν™”ν•κ±°λ‚ Payloadμ— μ¤‘μ” λ°μ΄ν„°λ¥Ό λ„£μ§€ μ•μ•„μ•Ό ν•¨
    - JWE : JSON λ° Base64λ¥Ό κΈ°λ°μΌλ΅ μ•”νΈν™”λ λ°μ΄ν„° κµν™μ„ μ„ν• ν‘μ¤€ν™”λ κµ¬λ¬Έμ„ μ κ³µν•λ” IETF ν‘μ¤€

## μ„λ… (Signature)

- λΉ„λ°€ν‚¤λ¥Ό ν¬ν•¨ν•μ—¬ μ•”νΈν™” λμ–΄ μμ
- μΈμ½”λ”©, μ ν¨μ„± κ²€μ¦ λ• μ‚¬μ©ν•λ” κ³ μ ν• μ•”νΈν™” μ½”λ“
- ν—¤λ”, νμ΄λ΅λ“μ κ°’μ„ Base64λ΅ μΈμ½”λ”© β†’ λΉ„λ°€ ν‚¤λ¥Ό μ΄μ©ν•΄ ν—¤λ”μ—μ„ μ •μν• μ•κ³ λ¦¬μ¦μΌλ΅ ν•΄μ‹± β†’ λ‹¤μ‹ Base64λ΅ μΈμ½”λ”©

# μ¶μ²

[https://mangkyu.tistory.com/56?category=925341](https://mangkyu.tistory.com/56?category=925341)

[https://dev-coco.tistory.com/103](https://dev-coco.tistory.com/103)